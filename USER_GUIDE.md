# WP-Dapp: Hive Integration - User Guide

This comprehensive guide will help you get the most out of the WP-Dapp plugin, which enables you to publish content from WordPress to the Hive blockchain securely using Hive Keychain.

## Table of Contents

1. [Getting Started](#getting-started)
2. [Publishing to Hive](#publishing-to-hive)
3. [Auto-Publish Feature](#auto-publish-feature)
4. [Beneficiaries System](#beneficiaries-system)
5. [Tag System](#tag-system)
6. [Advanced Settings](#advanced-settings)
7. [Troubleshooting](#troubleshooting)

## Getting Started

### Prerequisites

Before you begin, make sure you have:

- A WordPress website with administrator access
- A Hive account (if you don't have one, create one at [HiveOnboard](https://hiveonboard.com/))
- The [Hive Keychain browser extension](https://hive-keychain.com/) installed
- (Optional) A test account (e.g., dapp-tesing) for testing the plugin's functionality

### Installation

1. Download the WP-Dapp plugin zip file
2. In your WordPress admin, navigate to Plugins > Add New > Upload Plugin
3. Upload the zip file and click "Install Now"
4. After installation, click "Activate Plugin"

### Initial Configuration

1. In your WordPress admin, go to Settings > WP-Dapp
2. Enter your Hive username in the "Hive Account" field
3. Click "Verify with Keychain" to authenticate your account
   - This will trigger a Hive Keychain popup asking for your approval
   - If you don't see the popup, check that Keychain is installed and unlocked
4. Configure other settings as needed (beneficiaries, default tags, etc.)
5. Click "Save Changes" to store your settings

## Publishing to Hive

### Manual Publishing Process

1. Create or edit a WordPress post
2. Publish your post in WordPress as usual
3. In the post editor, find the "Publish to Hive" meta box (usually in the sidebar)
4. (Optional) Customize the Hive publication settings:
   - Add or remove beneficiaries
   - Customize tags (if needed)
5. Click the "Publish to Hive" button
6. Approve the transaction in the Hive Keychain popup
7. After successful publication, you'll see a confirmation message and a link to view your post on Hive

### Checking Publication Status

Once a post is published to Hive, the meta box will update to show:
- A confirmation message that the post is published to Hive
- The Hive author account used
- A link to view the post on Hive

## Auto-Publish Feature

The Auto-Publish feature streamlines the workflow of publishing from WordPress to Hive by automatically marking posts for Hive publication when they are published on WordPress.

### Enabling Auto-Publish

Auto-Publish is **intentionally disabled by default** for security reasons. To enable it:

1. Go to Settings > WP-Dapp
2. Find the "Auto-Publish" option under "Post Settings"
3. Check the box to enable Auto-Publish
4. Click "Save Changes"

### Why Auto-Publish is Disabled by Default

The Auto-Publish feature is designed as an opt-in feature for several important reasons:

1. **Security**: We believe users should explicitly choose to enable automatic workflows
2. **Control**: Content creators may want to decide on a post-by-post basis what gets published to Hive
3. **Awareness**: Users should be fully aware of which content is being prepared for blockchain publication

### How Auto-Publish Works

1. When Auto-Publish is enabled, any new post you publish in WordPress will be automatically marked for Hive publication
2. After publishing a post in WordPress, you'll see a notification in the post editor indicating the post is ready for Hive publication
3. The "Publish to Hive" meta box will also show a "Ready for Auto-Publish" indicator
4. You'll still need to click the "Publish to Hive" button and approve the transaction with Hive Keychain
   - This step is required because Hive Keychain requires manual approval for security reasons

### Auto-Publish Notifications

When a post is marked for Auto-Publish, you'll see:
1. A notice at the top of the post editor
2. An indicator in the "Publish to Hive" meta box
3. Both notifications will remain until you complete the publishing process or disable Auto-Publish

## Beneficiaries System

Beneficiaries receive a portion of the rewards generated by your post on Hive. You can configure both default beneficiaries for all posts and custom beneficiaries for individual posts.

### Setting Up Default Beneficiary

1. Go to Settings > WP-Dapp
2. Under "Beneficiary Settings", check "Enable Default Beneficiary"
3. Enter the Hive username in the "Default Beneficiary Account" field
4. Set the percentage of rewards (between 0.1% and 10%) in the "Default Beneficiary Percentage" field
5. Click "Save Changes"

### Adding Custom Beneficiaries to Individual Posts

1. Edit a post in WordPress
2. In the "Publish to Hive" meta box, you'll see the beneficiaries section
3. If a default beneficiary is set, it will be displayed
4. To add another beneficiary:
   - Click "Add Beneficiary"
   - Enter the Hive username
   - Set the percentage (between 0.1% and 10%)
5. To remove a beneficiary, click the "Remove" button next to their entry

### Beneficiary Rules

- The total percentage allocated to all beneficiaries cannot exceed 10%
- Hive usernames must be valid and existing accounts
- Percentages must be between 0.1% and 10%
- You can add multiple beneficiaries as long as the total doesn't exceed 10%

## Tag System

The WP-Dapp plugin intelligently handles tags for your Hive posts, pulling from multiple sources and formatting them according to Hive's requirements.

### Tag Sources

1. **WordPress Categories**: All categories assigned to your post
2. **WordPress Tags**: All tags assigned to your post
3. **Default Tags**: Tags defined in the plugin settings

### Tag Processing

The plugin processes tags as follows:

1. Collects tags from all sources (WordPress categories, WordPress tags, default tags)
2. Removes duplicates
3. Formats tags to meet Hive requirements (lowercase, no spaces, etc.)
4. Limits the total to 5 tags (Hive's maximum)
5. Uses the first tag as the "parent_permlink" (main category) on Hive

### Setting Default Tags

1. Go to Settings > WP-Dapp
2. Under "Post Settings", find the "Default Tags" field
3. Enter comma-separated tags (e.g., "blog,wordpress,writing")
4. Click "Save Changes"

### Tag Requirements and Formatting

Hive has specific requirements for tags:
- Must be lowercase
- Can only contain letters, numbers, and hyphens
- No spaces or special characters
- Maximum 5 tags per post
- At least 1 tag is required

The plugin automatically handles formatting to meet these requirements.

## Advanced Settings

### Custom Hive API Node

For advanced users who want to use a specific Hive API node:

1. Go to Settings > WP-Dapp
2. Under "Advanced Settings", find the "Hive API Node" field
3. Enter the full URL of your preferred Hive API node
4. Leave blank to use the default node (api.hive.blog)
5. Click "Save Changes"

## Troubleshooting

### Hive Keychain Not Detected

**Problem**: The plugin shows "Hive Keychain not detected" message.

**Solutions**:
1. Make sure you have installed the [Hive Keychain browser extension](https://hive-keychain.com/)
2. Try refreshing the page after installing Keychain
3. Check if Keychain is locked - unlock it and refresh the page
4. Try a different supported browser (Chrome, Firefox, Brave, Edge)

### Authentication Failed

**Problem**: Unable to verify your Hive account.

**Solutions**:
1. Check that you've entered the correct Hive username (case-sensitive)
2. Ensure Keychain is unlocked
3. Try logging out of Keychain and logging back in
4. Check if your browser is blocking popups
5. Try a different supported browser

### Publishing Failed

**Problem**: Unable to publish to Hive.

**Solutions**:
1. Check the error message displayed in the publishing box
2. Ensure your post has a title and content
3. Verify that you've approved the transaction in Keychain
4. Check your internet connection
5. Try again after a few minutes
6. Check that your Hive account has enough Resource Credits

### Auto-Publish Not Working

**Problem**: Posts aren't being marked for Auto-Publish.

**Solutions**:
1. Verify that Auto-Publish is enabled in Settings > WP-Dapp
2. Make sure you're publishing new posts (editing already-published posts won't trigger Auto-Publish)
3. Check that your Hive account is properly configured
4. Try deactivating and reactivating the plugin
5. Check for plugin conflicts by temporarily disabling other plugins

## Support & Resources

- **Plugin Repository**: [GitHub - DiggnDeeper/wp-dapp](https://github.com/DiggnDeeper/wp-dapp)
- **Hive Keychain**: [Official Website](https://hive-keychain.com/)
- **Report Issues**: [GitHub Issues](https://github.com/DiggnDeeper/wp-dapp/issues)
- **Hive Blockchain**: [Hive.blog](https://hive.blog)

---

Thank you for using WP-Dapp! We hope this guide helps you make the most of the WordPress to Hive integration. 